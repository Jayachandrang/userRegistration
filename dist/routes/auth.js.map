{"version":3,"sources":["../../server/routes/auth.js"],"names":["router","express","Router","post","req","res","credentials","body","User","findOne","email","then","user","isValidPassword","password","json","toAuthJSON","status","errors","global"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,IAAP,CAAY,GAAZ,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,MACrBC,WADqB,GACLF,IAAIG,IADC,CACrBD,WADqB;;AAE7BE,iBAAKC,OAAL,CAAa,EAAEC,OAAOJ,YAAYI,KAArB,EAAb,EAA2CC,IAA3C,CAAgD,gBAAQ;AACtD,QAAIC,QAAQA,KAAKC,eAAL,CAAqBP,YAAYQ,QAAjC,CAAZ,EAAwD;AACtDT,UAAIU,IAAJ,CAAS,EAAEH,MAAMA,KAAKI,UAAL,EAAR,EAAT;AACD,KAFD,MAEO;AACLX,UAAIY,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB,EAAEG,QAAQ,EAAEC,QAAQ,qBAAV,EAAV,EAArB;AACD;AACF,GAND;AAOD,CATD;;kBAWenB,M","file":"auth.js","sourcesContent":["import express from \"express\";\nimport jwt from \"jsonwebtoken\";\nimport keys from \"../config/keys\";\nimport User from \"../models/User\";\n\nconst router = express.Router();\n\nrouter.post(\"/\", (req, res) => {\n  const { credentials } = req.body;\n  User.findOne({ email: credentials.email }).then(user => {\n    if (user && user.isValidPassword(credentials.password)) {\n      res.json({ user: user.toAuthJSON() });\n    } else {\n      res.status(400).json({ errors: { global: \"Invalid credentials\" } });\n    }\n  });\n});\n\nexport default router;"]}